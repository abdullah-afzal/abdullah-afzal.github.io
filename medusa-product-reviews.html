<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medusa Product Reviews</title>
    <meta property="og:title" content="Medusa Product Reviews" />
    <meta property="og:description" content="A plugin that enables customer product reviews for your Medusa store." />
    <meta property="og:type" content="blog" />
    <link rel="stylesheet" href="plugin.css">
    <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <div id="sidebar">
        <a href="#what-is-it">What is it?</a>
        <a href="#how-to-install">How to install?</a>
        <a href="#api-endpoints">API Endpoints</a>
        <a href="#proposals-bugs-improvements">Proposals, Bugs, Improvements</a>
        <a href="#license">License</a>
        <a href="#pro-version">Pro Version</a>
    </div>

    <div id="content">
        <a href="/">plugins</a> > <a>medusa-product-reviews</a>
        <h1 style="text-align: center;">medusa-product-reviews</h1>
        <div style="text-align: center;">
            <img src="https://static.vecteezy.com/system/resources/previews/019/859/726/original/yellow-five-stars-quality-rating-icons-5-stars-icon-five-star-sign-rating-symbol-transparent-background-illustration-png.png"
                alt="Medusa-extender logo" style="max-width: 100%; height: auto; width: 500px;" />
        </div>

        <p><a href="https://github.com/abdullah-afzal/medusa-product-reviews/blob/main/README.md">Documentation</a></p>

        <p>If you are not familiar with Medusa, you can learn more on <a href="https://www.medusajs.com/">the project web
                site</a>.</p>

        <h2 id="note"><i class="fas fa-bullhorn" style="font-size: 24px; margin-right: 10px;"></i>Note: This plugin will be migrated to Medusa v2, when v2 will reach production readiness.</h2>

        <h2 id="what-is-it" class="section">What is it?</h2>
        <p>A plugin that enables customer product reviews for your Medusa store.</p>

        <h2 id="how-to-install" class="section">How to install?</h2>
        <ol>
            <li>Install the package with <code>yarn add medusa-product-reviews</code> or
                <code>npm i medusa-product-reviews</code>
            </li>
            <li>In <code>medusa-config.js</code>, add the plugin to the <code>plugins</code> array and set
                <code>enableUI</code>
            </li>
            <pre><code>const plugins = [
  // ... other plugins
  {
    resolve: `medusa-product-reviews`,
    options: {
      enableUI: true
    }
  }
]
</code></pre>
            <li>Run migrations, e.g. <code>npx medusa migrations run</code> (see: <a
                    href="https://docs.medusajs.com/development/entities/migrations/overview">https://docs.medusajs.com/development/entities/migrations/overview</a>)
                as the plugin uses new tables.</li>
            <li>Start project
                <ul>
                    <li>After installation of the plugin, you will see a new option on the sidebar named
                        <strong>Reviews</strong>.
                    </li>
                    <li>You can check reviews for each product on the single product details page.</li>
                    <li>You can check reviews for an order on the order details page.</li>
                </ul>
            </li>
        </ol>

        <h2 id="api-endpoints" class="section">API Endpoints</h2>

    <h3>Store API Endpoints</h3>

    <ol>
        <li><strong><code>GET /store/product-reviews</code></strong>
            <ul>
                <li><strong>Description:</strong> Retrieves a list of product reviews based on the provided query parameters.</li>
                <li><strong>Query Parameters:</strong>
                    <ul>
                        <li><code>order_id</code>: (Optional) Filters reviews by a specific order.</li>
                        <li><code>product_id</code>: (Optional) Filters reviews by a specific product.</li>
                        <li><code>customer_id</code>: (Optional) Filters reviews by a specific customer.</li>
                        <li><code>rating</code>: (Optional) Filters reviews by a specific rating.</li>
                        <li><code>limit</code>: (Optional) Number of reviews to return.</li>
                        <li><code>offset</code>: (Optional) Number of reviews to skip before starting to return results.</li>
                    </ul>
                </li>
                <li><strong>Response:</strong> Returns a JSON object containing an array of review objects and the total count.</li>
                <li><strong>Sample Response:</strong>
                    <pre><code>{
  "reviews": [
    {
      "id": "string",
      "product_id": "string",
      "customer_id": "string",
      "order_id": "string",
      "rating": 5,
      "content": "Great product!",
      "images": ["image1.jpg", "image2.jpg"],
      "created_at": "2023-08-24T12:34:56.789Z",
      "updated_at": "2023-08-24T12:34:56.789Z"
    }
  ],
  "count": 1
}</code></pre>
                </li>
            </ul>
        </li>

        <li><strong><code>GET /store/product-reviews/stats</code></strong>
            <ul>
                <li><strong>Description:</strong> Retrieves statistics for product reviews, including average rating and distribution by rating.</li>
                <li><strong>Query Parameters:</strong>
                    <ul>
                        <li><code>product_id</code>: (Required) The product ID for which to retrieve statistics.</li>
                    </ul>
                </li>
                <li><strong>Response:</strong> Returns a JSON object containing review statistics.</li>
                <li><strong>Sample Response:</strong>
                    <pre><code>{
  "stats": {
    "product_id": "string",
    "average": 4.5,
    "count": 10,
    "by_rating": [
      { "rating": 5, "count": 6 },
      { "rating": 4, "count": 3 },
      { "rating": 3, "count": 1 }
    ]
  }
}</code></pre>
                </li>
            </ul>
        </li>

        <li><strong><code>POST /store/product-reviews</code></strong>
            <ul>
                <li><strong>Description:</strong> Creates a new product review.</li>
                <li><strong>Request Body:</strong>
                    <ul>
                        <li><code>product_id</code>: (Required) The ID of the product being reviewed.</li>
                        <li><code>order_id</code>: (Required) The ID of the order associated with the review.</li>
                        <li><code>rating</code>: (Required) The rating given to the product.</li>
                        <li><code>content</code>: (Optional) The content of the review.</li>
                        <li><code>images</code>: (Optional) An array of image URLs or files associated with the review.</li>
                    </ul>
                </li>
                <li><strong>Response:</strong> Returns a JSON object containing the newly created review.</li>
                <li><strong>Sample Response:</strong>
                    <pre><code>{
  "review": {
    "id": "string",
    "product_id": "string",
    "customer_id": "string",
    "order_id": "string",
    "rating": 5,
    "content": "Great product!",
    "images": ["image1.jpg", "image2.jpg"],
    "created_at": "2023-08-24T12:34:56.789Z",
    "updated_at": "2023-08-24T12:34:56.789Z"
  }
}</code></pre>
                </li>
            </ul>
        </li>

        <li><strong><code>POST /store/product-reviews/:product_review_id</code></strong>
            <ul>
                <li><strong>Description:</strong> Updates an existing product review by ID.</li>
                <li><strong>Request Body:</strong>
                    <ul>
                        <li><code>product_id</code>: (Required) The ID of the product being reviewed.</li>
                        <li><code>order_id</code>: (Required) The ID of the order associated with the review.</li>
                        <li><code>rating</code>: (Required) The rating given to the product.</li>
                        <li><code>content</code>: (Optional) The updated content of the review.</li>
                        <li><code>images</code>: (Optional) An array of updated image URLs or files associated with the review.</li>
                    </ul>
                </li>
                <li><strong>Response:</strong> Returns a JSON object containing the updated review.</li>
                <li><strong>Sample Response:</strong>
                    <pre><code>{
  "review": {
    "id": "string",
    "product_id": "string",
    "customer_id": "string",
    "order_id": "string",
    "rating": 5,
    "content": "Updated review content.",
    "images": ["image1.jpg", "image2.jpg"],
    "created_at": "2023-08-24T12:34:56.789Z",
    "updated_at": "2023-08-24T12:34:56.789Z"
  }
}</code></pre>
                </li>
            </ul>
        </li>
    </ol>

    <h3>Admin API Endpoints</h3>

    <ol>
        <li><strong><code>GET /admin/product-reviews/stats</code></strong>
            <ul>
                <li><strong>Description:</strong> Retrieves statistics for product reviews, including average rating and distribution by rating.</li>
                <li><strong>Query Parameters:</strong>
                    <ul>
                        <li><code>product_id</code>: (Required) The product ID for which to retrieve statistics.</li>
                    </ul>
                </li>
                <li><strong>Response:</strong> Returns a JSON object containing review statistics (same format as store endpoint).</li>
            </ul>
        </li>

        <li><strong><code>GET /admin/product-reviews</code></strong>
            <ul>
                <li><strong>Description:</strong> Retrieves a list of product reviews based on the provided query parameters.</li>
                <li><strong>Query Parameters:</strong> Same as the <code>GET /store/product-reviews</code> endpoint.</li>
                <li><strong>Response:</strong> Returns a JSON object containing an array of review objects and the total count.</li>
            </ul>
        </li>

        <li><strong><code>POST /admin/product-reviews/:product_review_id</code></strong>
            <ul>
                <li><strong>Description:</strong> Updates the reply to an existing product review by ID.</li>
                <li><strong>Request Body:</strong>
                    <ul>
                        <li><code>reply</code>: (Required) The updated reply to the review.</li>
                    </ul>
                </li>
                <li><strong>Response:</strong> Returns a JSON object containing the updated review with the new reply.</li>
            </ul>
        </li>

        <li><strong><code>DELETE /admin/product-reviews/:id</code></strong>
            <ul>
                <li><strong>Description:</strong> Deletes an existing product review by ID.</li>
                <li><strong>Response:</strong> Returns a JSON object indicating success.</li>
                <li><strong>Sample Response:</strong>
                    <pre><code>{
  "success": true
}</code></pre>
                </li>
            </ul>
        </li>
    </ol>

    <h3>Objects</h3>

    <pre><code>product-reviews: {
  "id": "string",
  "product_id": "string",
  "customer_id": "string",
  "order_id": "string",
  "rating": 5,
  "content": "Great product!",
  "reply": "Thank you for your feedback!",
  "images": ["image1.jpg", "image2.jpg"],
  "created_at": "2023-08-24T12:34:56.789Z",
  "updated_at": "2023-08-24T12:34:56.789Z",
  "deleted_at": null
}</code></pre>

        <h2 id="proposals-bugs-improvements" class="section">Proposals, Bugs, Improvements</h2>
        <p>If you have an idea for what could be the next highest priority functionality, do not hesitate to raise an
            issue
            here: <a href="https://github.com/abdullah-afzal/medusa-product-reviews/issues">Github issues</a>.</p>

        <h2 id="license" class="section">License</h2>
        <p>MIT</p>

        <h2 id="pro-version" class="section">Pro Version</h2>
        <p>The Pro version of medusa-documents expands on the features of the free version with more advanced capabilities such as:</p>
    <ul>
        <li>Option to show/hide reviews</li>
        <li>Delete unwanted reviews</li>
        <li>And a lot more.</li>
    </ul>

    <p>The Pro version is available under a commercial license. Contact <a href="https://github.com/abdullah-afzal">abdullah-afzal</a> for more information.</p>

    <h3>Hide Pro Version Tab</h3>
    <p>We show what advanced features we offer in the "Pro version" tab. We try to keep it non-intrusive, but if you feel otherwise, you can always hide this tab by setting the following environment variable:</p>
    <pre><code>MEDUSA_ADMIN_PRODUCTS_REVIEWS_HIDE_PRO=true</code></pre>
    <p>After restarting your admin application, this tab will be hidden.</p>

        <hr />
        <p>© 2024 <a href="https://github.com/abdullah-afzal">abdullah-afzal</a></p>
    </div>

    <footer>
        <a href="" onclick="Calendly.initPopupWidget({url: `https://calendly.com/abdullahafzal/consultation`});return false;">Meeting </a>
    <a href="https://www.linkedin.com/in/abdullah-afzal/" target="blank"> LinkedIn </a>
        <a href="https://github.com/abdullah-afzal" target="blank">GitHub </a>
        <a href="https://www.upwork.com/freelancers/~01202ed888cb922eea?mp_source=share" target="blank">Upwork </a>
    </footer>
</body>

</html>
